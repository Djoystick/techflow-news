<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechFlow Admin Panel v2.3</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
        }

        .admin-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* ===== HEADER ===== */
        .admin-header {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .admin-title {
            font-size: 24px;
            font-weight: 700;
            color: #333;
        }

        .admin-version {
            font-size: 12px;
            color: #999;
            padding: 4px 8px;
            background: #f5f5f5;
            border-radius: 4px;
        }

        .logout-btn {
            padding: 10px 20px;
            background: #ff4444;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .logout-btn:hover {
            background: #cc0000;
            transform: translateY(-2px);
        }

        /* ===== –ù–ê–í–ò–ì–ê–¶–ò–Ø ===== */
        .admin-nav {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .nav-btn {
            padding: 12px 20px;
            border: 2px solid #ddd;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            min-width: 120px;
            text-align: center;
        }

        .nav-btn:hover {
            border-color: #667eea;
            color: #667eea;
        }

        .nav-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        /* ===== –ö–û–ù–¢–ï–ù–¢ –°–ï–ö–¶–ò–ô ===== */
        .tab-content {
            display: none;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ===== –§–û–†–ú–ê ===== */
        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
            font-size: 14px;
        }

        .form-input,
        .form-textarea,
        .form-select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            font-family: inherit;
            transition: all 0.3s;
        }

        .form-input:focus,
        .form-textarea:focus,
        .form-select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-textarea {
            resize: vertical;
            min-height: 150px;
        }

        /* ===== –ö–ù–û–ü–ö–ò –§–û–†–ú–´ ===== */
        .form-buttons {
            display: flex;
            gap: 15px;
            margin-top: 25px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 120px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.3);
        }

        .btn-secondary {
            background: #f0f0f0;
            color: #333;
        }

        .btn-secondary:hover {
            background: #e0e0e0;
        }

        .btn-danger {
            background: #ff4444;
            color: white;
        }

        .btn-danger:hover {
            background: #cc0000;
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 12px;
            min-width: auto;
        }

        /* ===== –ù–û–í–û–°–¢–ï–ô ===== */
        .news-list {
            max-height: 600px;
            overflow-y: auto;
        }

        .news-item {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border-left: 4px solid #667eea;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 15px;
            flex-wrap: wrap;
        }

        .news-item-info {
            flex: 1;
            min-width: 200px;
        }

        .news-item-title {
            font-weight: 700;
            margin-bottom: 5px;
            color: #333;
        }

        .news-item-meta {
            font-size: 12px;
            color: #999;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .news-item-actions {
            display: flex;
            gap: 10px;
        }

        /* ===== –®–ê–ë–õ–û–ù–´ ===== */
        .templates-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .template-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .template-card:hover {
            transform: translateY(-5px);
            border-color: #667eea;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }

        .template-name {
            font-weight: 700;
            margin-bottom: 10px;
            color: #333;
            font-size: 16px;
        }

        .template-desc {
            font-size: 12px;
            color: #666;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .template-btn {
            background: #667eea;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            font-size: 12px;
            width: 100%;
        }

        .template-btn:hover {
            background: #764ba2;
        }

        /* ===== –°–¢–ê–¢–£–° –°–û–û–ë–©–ï–ù–ò–Ø ===== */
        .status-message {
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
            display: none;
            animation: slideDown 0.3s ease-in-out;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .status-message.show {
            display: block;
        }

        .status-message.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .status-message.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .status-message.warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }

        /* ===== –¢–ê–ë–õ–ò–¶–ê –ù–ê–°–¢–†–û–ï–ö ===== */
        .settings-table {
            width: 100%;
        }

        .settings-row {
            display: grid;
            grid-template-columns: 200px 1fr;
            gap: 20px;
            margin-bottom: 20px;
            align-items: start;
        }

        .settings-label {
            font-weight: 600;
            color: #333;
        }

        .settings-value {
            font-size: 13px;
            color: #666;
        }

        /* ===== –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê ===== */
        .diagnostic-item {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 10px;
            border-left: 4px solid #ccc;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .diagnostic-item.success {
            border-color: #4caf50;
            background: #f1f8f4;
        }

        .diagnostic-item.error {
            border-color: #f44336;
            background: #fef5f5;
        }

        .diagnostic-item.warning {
            border-color: #ff9800;
            background: #fff8f0;
        }

        .diagnostic-name {
            font-weight: 600;
            color: #333;
            flex: 1;
            min-width: 200px;
        }

        .diagnostic-status {
            font-weight: 700;
            padding: 4px 12px;
            border-radius: 4px;
            font-size: 12px;
        }

        .diagnostic-status.ok {
            background: #4caf50;
            color: white;
        }

        .diagnostic-status.failed {
            background: #f44336;
            color: white;
        }

        .diagnostic-status.warning {
            background: #ff9800;
            color: white;
        }

        /* ===== –õ–û–ì–ò ===== */
        .logs-container {
            background: #1e1e1e;
            color: #00ff00;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 400px;
            overflow-y: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
            margin-bottom: 20px;
        }

        /* ===== GRID –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ ===== */
        @media (max-width: 1024px) {
            .admin-container {
                padding: 15px;
            }

            .admin-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .admin-nav {
                width: 100%;
            }

            .nav-btn {
                flex: 1;
                min-width: 100px;
            }

            .templates-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }

            .settings-row {
                grid-template-columns: 1fr;
            }

            .news-item {
                flex-direction: column;
            }

            .news-item-actions {
                width: 100%;
            }
        }

        @media (max-width: 768px) {
            .admin-container {
                padding: 10px;
            }

            .tab-content {
                padding: 20px;
            }

            .admin-header {
                padding: 15px;
            }

            .admin-title {
                font-size: 18px;
            }

            .admin-nav {
                gap: 5px;
            }

            .nav-btn {
                padding: 10px 12px;
                font-size: 12px;
                min-width: 80px;
            }

            .templates-grid {
                grid-template-columns: 1fr;
            }

            .form-buttons {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }

            .news-item-actions {
                width: 100%;
                flex-direction: column;
            }

            .btn-small {
                width: 100%;
            }

            .diagnostic-item {
                flex-direction: column;
                align-items: flex-start;
            }

            .diagnostic-status {
                width: 100%;
                text-align: center;
            }
        }

        @media (max-width: 480px) {
            .admin-container {
                padding: 5px;
            }

            .tab-content {
                padding: 15px;
            }

            .admin-header {
                padding: 10px;
                gap: 10px;
            }

            .admin-title {
                font-size: 16px;
            }

            .admin-version {
                font-size: 10px;
            }

            .logout-btn {
                padding: 8px 12px;
                font-size: 12px;
                min-width: auto;
            }

            .nav-btn {
                padding: 8px 10px;
                font-size: 11px;
                min-width: 70px;
                flex: 1;
            }

            .form-input,
            .form-textarea,
            .form-select {
                padding: 10px;
                font-size: 13px;
            }

            .form-label {
                font-size: 12px;
            }

            .btn {
                padding: 10px 16px;
                font-size: 12px;
            }
        }

        /* ===== LOADING SPINNER ===== */
        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <div class="admin-container">
        <!-- HEADER -->
        <div class="admin-header">
            <div>
                <div class="admin-title">üì∞ TechFlow Admin Panel</div>
                <div class="admin-version">v2.3 - GitHub Fixed + Templates</div>
            </div>
            <button class="logout-btn" onclick="logout()">üö™ –í—ã—Ö–æ–¥</button>
        </div>

        <!-- STATUS MESSAGE -->
        <div id="statusMessage" class="status-message"></div>

        <!-- –ù–ê–í–ò–ì–ê–¶–ò–Ø -->
        <div class="admin-nav">
            <button class="nav-btn active" onclick="switchTab('add-news')">‚ûï –î–æ–±–∞–≤–∏—Ç—å</button>
            <button class="nav-btn" onclick="switchTab('manage-news')">‚úèÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</button>
            <button class="nav-btn" onclick="switchTab('templates')">üìã –®–∞–±–ª–æ–Ω—ã</button>
            <button class="nav-btn" onclick="switchTab('settings')">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
            <button class="nav-btn" onclick="switchTab('diagnostics')">üîß –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞</button>
        </div>

        <!-- 1Ô∏è‚É£ –î–û–ë–ê–í–ò–¢–¨ –ù–û–í–û–°–¢–¨ -->
        <div id="add-news" class="tab-content active">
            <h2 style="margin-bottom: 20px;">‚ûï –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—å</h2>

            <div class="form-group">
                <label class="form-label">üìå –ó–∞–≥–æ–ª–æ–≤–æ–∫</label>
                <input type="text" id="newsTitle" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–æ–≤–æ—Å—Ç–∏...">
            </div>

            <div class="form-group">
                <label class="form-label">üìù –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ</label>
                <textarea id="newsExcerpt" class="form-textarea" placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –ª–µ–Ω—Ç—ã..."></textarea>
            </div>

            <div class="form-group">
                <label class="form-label">üìñ –ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç</label>
                <textarea id="newsFullText" class="form-textarea" placeholder="–ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏..."></textarea>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div class="form-group">
                    <label class="form-label">üñºÔ∏è –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ URL</label>
                    <input type="text" id="newsImage" class="form-input" placeholder="https://example.com/image.jpg">
                </div>

                <div class="form-group">
                    <label class="form-label">üè∑Ô∏è –ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                    <select id="newsCategory" class="form-select">
                        <option value="ai">ü§ñ –ò–ò</option>
                        <option value="gadgets">üì± –ì–∞–¥–∂–µ—Ç—ã</option>
                        <option value="software">üíª –ü–û</option>
                        <option value="hardware">üîß –ñ–µ–ª–µ–∑–æ</option>
                        <option value="crypto">üí∞ –ö—Ä–∏–ø—Ç–æ</option>
                    </select>
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div class="form-group">
                    <label class="form-label">üë§ –ê–≤—Ç–æ—Ä</label>
                    <input type="text" id="newsAuthor" class="form-input" placeholder="–ò–º—è –∞–≤—Ç–æ—Ä–∞...">
                </div>

                <div class="form-group">
                    <label class="form-label">üîó –ò—Å—Ç–æ—á–Ω–∏–∫</label>
                    <input type="text" id="newsSource" class="form-input" placeholder="https://example.com">
                </div>
            </div>

            <div class="form-group">
                <label>
                    <input type="checkbox" id="newsFeatured"> ‚≠ê –ò–∑–±—Ä–∞–Ω–Ω–∞—è –Ω–æ–≤–æ—Å—Ç—å
                </label>
            </div>

            <div class="form-buttons">
                <button class="btn btn-primary" onclick="addNews()">üíæ –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</button>
                <button class="btn btn-secondary" onclick="clearForm()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å</button>
            </div>
        </div>

        <!-- 2Ô∏è‚É£ –£–ü–†–ê–í–õ–ï–ù–ò–ï –ù–û–í–û–°–¢–Ø–ú–ò -->
        <div id="manage-news" class="tab-content">
            <h2 style="margin-bottom: 20px;">‚úèÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç—è–º–∏</h2>

            <input type="text" id="searchNews" class="form-input" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é..." style="margin-bottom: 20px;">

            <div class="news-list" id="newsList">
                <p style="text-align: center; color: #999; padding: 40px;">–ó–∞–≥—Ä—É–∂–∞—é –Ω–æ–≤–æ—Å—Ç–∏...</p>
            </div>
        </div>

        <!-- 3Ô∏è‚É£ –®–ê–ë–õ–û–ù–´ -->
        <div id="templates" class="tab-content">
            <h2 style="margin-bottom: 20px;">üìã –®–∞–±–ª–æ–Ω—ã —Å—Ç–∞—Ç–µ–π</h2>
            <p style="color: #666; margin-bottom: 20px;">–í—ã–±–µ—Ä–∏—Ç–µ —à–∞–±–ª–æ–Ω –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç–∞—Ç—å–∏ —Å –∑–∞–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º</p>

            <div class="templates-grid" id="templatesGrid"></div>
        </div>

        <!-- 4Ô∏è‚É£ –ù–ê–°–¢–†–û–ô–ö–ò -->
        <div id="settings" class="tab-content">
            <h2 style="margin-bottom: 20px;">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>

            <div class="form-group">
                <label class="form-label">üîë GitHub Token</label>
                <input type="password" id="githubToken" class="form-input" placeholder="ghp_xxxxxxxxxxxxxxxxxxxx">
                <small style="color: #999;">–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –∏–∑ GitHub Settings ‚Üí Developer Settings ‚Üí Personal Access Tokens</small>
            </div>

            <button class="btn btn-primary" onclick="saveToken()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω</button>

            <hr style="margin: 30px 0;">

            <h3 style="margin-bottom: 20px;">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
            <div class="settings-table">
                <div class="settings-row">
                    <div class="settings-label">üì∞ –í—Å–µ–≥–æ –Ω–æ–≤–æ—Å—Ç–µ–π:</div>
                    <div class="settings-value" id="totalNews">0</div>
                </div>
                <div class="settings-row">
                    <div class="settings-label">üí¨ –í—Å–µ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤:</div>
                    <div class="settings-value" id="totalComments">0</div>
                </div>
                <div class="settings-row">
                    <div class="settings-label">üìÅ –†–∞–∑–º–µ—Ä —Ö—Ä–∞–Ω–∏–ª–∏—â–∞:</div>
                    <div class="settings-value" id="storageSize">0 B</div>
                </div>
                <div class="settings-row">
                    <div class="settings-label">üïê –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:</div>
                    <div class="settings-value" id="lastUpdate">-</div>
                </div>
            </div>
        </div>

        <!-- 5Ô∏è‚É£ –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê -->
        <div id="diagnostics" class="tab-content">
            <h2 style="margin-bottom: 20px;">üîß –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã</h2>
            <button class="btn btn-primary" onclick="runDiagnostics()" style="margin-bottom: 20px;">üîÑ –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É</button>

            <div id="diagnosticsList" style="margin-top: 20px;"></div>

            <hr style="margin: 30px 0;">

            <h3 style="margin-bottom: 20px;">üêõ –õ–æ–≥–∏ –æ—à–∏–±–æ–∫</h3>
            <div class="logs-container" id="logsContainer">–õ–æ–≥–∏ –æ—à–∏–±–æ–∫ –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å...</div>

            <div class="form-buttons">
                <button class="btn btn-primary" onclick="downloadLogs()">üì• –°–∫–∞—á–∞—Ç—å –ª–æ–≥–∏</button>
                <button class="btn btn-secondary" onclick="clearLogs()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏</button>
            </div>
        </div>
    </div>

    <script>
        // ===== –ü–ï–†–ï–ú–ï–ù–ù–´–ï –ì–õ–û–ë–ê–õ–¨–ù–´–ï =====
        let allNews = [];
        let allComments = {};
        let githubToken = localStorage.getItem('techflow_github_token') || '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';
        let errorLogs = [];

        // GitHub config
        const GITHUB_USERNAME = 'Djoystick'; // –ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à–µ –∏–º—è
        const GITHUB_REPO = 'techflow-news'; // –ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
        const GITHUB_BRANCH = 'main';

        // ===== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø =====
        document.addEventListener('DOMContentLoaded', function() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
            const password = localStorage.getItem('techflow_admin_logged');
            if (!password) {
                const pwd = prompt('üîê –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏:');
                if (pwd !== 'admin123') {
                    alert('‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å!');
                    window.location.href = '/';
                    return;
                }
                localStorage.setItem('techflow_admin_logged', 'true');
            }

            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ
            loadAllNews();
            loadAllComments();
            loadTemplates();
            updateStatistics();

            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–æ–∫–µ–Ω
            const saved = localStorage.getItem('techflow_github_token');
            if (saved) {
                document.getElementById('githubToken').value = saved;
            }
        });

        // ===== –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–ï –í–ö–õ–ê–î–û–ö =====
        function switchTab(tabName) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—É—é –≤–∫–ª–∞–¥–∫—É
            document.getElementById(tabName).classList.add('active');

            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –≤–∫–ª–∞–¥–∫–∏
            if (tabName === 'manage-news') {
                displayNewsList();
            } else if (tabName === 'diagnostics') {
                runDiagnostics();
            }
        }

        // ===== –ó–ê–ì–†–£–ó–ö–ê –ù–û–í–û–°–¢–ï–ô =====
        async function loadAllNews() {
            try {
                const response = await fetch('data/news.json');
                if (response.ok) {
                    allNews = await response.json();
                    console.log('‚úÖ News loaded:', allNews.length);
                } else {
                    console.warn('‚ö†Ô∏è news.json not found, using empty array');
                    allNews = [];
                }
            } catch (error) {
                console.error('‚ùå Error loading news:', error);
                allNews = [];
                logError('LOAD_NEWS', error.message);
            }
        }

        // ===== –ó–ê–ì–†–£–ó–ö–ê –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ï–í =====
        async function loadAllComments() {
            try {
                const response = await fetch('data/comments.json');
                if (response.ok) {
                    allComments = await response.json();
                    console.log('‚úÖ Comments loaded');
                } else {
                    console.warn('‚ö†Ô∏è comments.json not found');
                    allComments = {};
                }
            } catch (error) {
                console.error('‚ùå Error loading comments:', error);
                allComments = {};
            }
        }

        // ===== –î–û–ë–ê–í–ò–¢–¨ –ù–û–í–û–°–¢–¨ =====
        async function addNews() {
            const title = document.getElementById('newsTitle').value.trim();
            const excerpt = document.getElementById('newsExcerpt').value.trim();
            const fullText = document.getElementById('newsFullText').value.trim();
            const image = document.getElementById('newsImage').value.trim();
            const category = document.getElementById('newsCategory').value;
            const author = document.getElementById('newsAuthor').value.trim();
            const source = document.getElementById('newsSource').value.trim();
            const featured = document.getElementById('newsFeatured').checked;

            // –í–∞–ª–∏–¥–∞—Ü–∏—è
            if (!title || !excerpt || !fullText) {
                showMessage('‚ùå –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è!', 'error');
                return;
            }

            // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –Ω–æ–≤–æ—Å—Ç–∏
            const newNews = {
                id: 'news-' + Date.now(),
                title: title,
                excerpt: excerpt,
                fullText: fullText,
                image: image || 'assets/images/default.jpg',
                category: category,
                author: author || '–ê–≤—Ç–æ—Ä',
                source: source || '#',
                date: new Date().toLocaleDateString('ru-RU'),
                featured: featured
            };

            // –î–æ–±–∞–≤–ª—è–µ–º –≤ –º–∞—Å—Å–∏–≤
            allNews.unshift(newNews);

            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞ GitHub
            await saveNewsToGitHub();

            // –£—Å–ø–µ—Ö
            showMessage('‚úÖ –ù–æ–≤–æ—Å—Ç—å —É—Å–ø–µ—à–Ω–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞!', 'success');
            clearForm();
            updateStatistics();
        }

        // ===== –°–û–•–†–ê–ù–ï–ù–ò–ï –ù–ê GITHUB =====
        async function saveNewsToGitHub() {
            if (!githubToken || githubToken.includes('YOUR')) {
                showMessage('‚ö†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ GitHub —Ç–æ–∫–µ–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö!', 'warning');
                return false;
            }

            try {
                const content = JSON.stringify(allNews, null, 2);
                const encodedContent = btoa(content);

                const response = await fetch(
                    `https://api.github.com/repos/${GITHUB_USERNAME}/${GITHUB_REPO}/contents/data/news.json`,
                    {
                        method: 'PUT',
                        headers: {
                            'Authorization': `token ${githubToken}`,
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            message: 'üì∞ Update news',
                            content: encodedContent,
                            branch: GITHUB_BRANCH
                        })
                    }
                );

                if (response.ok) {
                    console.log('‚úÖ Saved to GitHub');
                    return true;
                } else {
                    const error = await response.json();
                    console.error('‚ùå GitHub error:', error);
                    showMessage(`‚ùå –û—à–∏–±–∫–∞ GitHub: ${error.message}`, 'error');
                    logError('GITHUB_API', error.message);
                    return false;
                }
            } catch (error) {
                console.error('‚ùå Error saving to GitHub:', error);
                showMessage('‚ùå –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞ GitHub!', 'error');
                logError('GITHUB_SAVE', error.message);
                return false;
            }
        }

        // ===== –û–¢–û–ë–†–ê–ñ–ï–ù–ò–ï –°–ü–ò–°–ö–ê –ù–û–í–û–°–¢–ï–ô =====
        function displayNewsList() {
            const newsList = document.getElementById('newsList');
            const searchTerm = document.getElementById('searchNews').value.toLowerCase();

            let filtered = allNews;
            if (searchTerm) {
                filtered = allNews.filter(n => n.title.toLowerCase().includes(searchTerm));
            }

            if (filtered.length === 0) {
                newsList.innerHTML = '<p style="text-align: center; color: #999; padding: 40px;">–ù–æ–≤–æ—Å—Ç–µ–π –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</p>';
                return;
            }

            newsList.innerHTML = filtered.map(news => `
                <div class="news-item">
                    <div class="news-item-info">
                        <div class="news-item-title">${news.title}</div>
                        <div class="news-item-meta">
                            <span>üìÖ ${news.date}</span>
                            <span>üë§ ${news.author}</span>
                            <span>üìÅ ${news.category}</span>
                        </div>
                    </div>
                    <div class="news-item-actions">
                        <button class="btn btn-small btn-secondary" onclick="editNews('${news.id}')">‚úèÔ∏è –ü—Ä–∞–≤–∏—Ç—å</button>
                        <button class="btn btn-small btn-danger" onclick="deleteNews('${news.id}')">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
                    </div>
                </div>
            `).join('');
        }

        // ===== –£–î–ê–õ–ò–¢–¨ –ù–û–í–û–°–¢–¨ =====
        async function deleteNews(newsId) {
            if (!confirm('‚ùå –í—ã —É–≤–µ—Ä–µ–Ω—ã? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å!')) {
                return;
            }

            allNews = allNews.filter(n => n.id !== newsId);
            await saveNewsToGitHub();
            showMessage('‚úÖ –ù–æ–≤–æ—Å—Ç—å —É–¥–∞–ª–µ–Ω–∞!', 'success');
            displayNewsList();
            updateStatistics();
        }

        // ===== –†–ï–î–ê–ö–¢–ò–†–û–í–ê–ù–ò–ï –ù–û–í–û–°–¢–ò =====
        function editNews(newsId) {
            const news = allNews.find(n => n.id === newsId);
            if (!news) return;

            document.getElementById('newsTitle').value = news.title;
            document.getElementById('newsExcerpt').value = news.excerpt;
            document.getElementById('newsFullText').value = news.fullText;
            document.getElementById('newsImage').value = news.image;
            document.getElementById('newsCategory').value = news.category;
            document.getElementById('newsAuthor').value = news.author;
            document.getElementById('newsSource').value = news.source;
            document.getElementById('newsFeatured').checked = news.featured || false;

            switchTab('add-news');
        }

        // ===== –û–ß–ò–°–¢–ò–¢–¨ –§–û–†–ú–£ =====
        function clearForm() {
            document.getElementById('newsTitle').value = '';
            document.getElementById('newsExcerpt').value = '';
            document.getElementById('newsFullText').value = '';
            document.getElementById('newsImage').value = '';
            document.getElementById('newsAuthor').value = '';
            document.getElementById('newsSource').value = '';
            document.getElementById('newsFeatured').checked = false;
        }

        // ===== –®–ê–ë–õ–û–ù–´ =====
        const TEMPLATES = [
            {
                id: 1,
                name: 'üöÄ –ü—Ä–æ–¥—É–∫—Ç –∑–∞–ø—É—Å–∫',
                desc: '–®–∞–±–ª–æ–Ω –¥–ª—è —Å—Ç–∞—Ç–µ–π –æ –∑–∞–ø—É—Å–∫–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞',
                content: {
                    excerpt: '–ö–æ–º–ø–∞–Ω–∏—è –æ–±—ä—è–≤–∏–ª–∞ –æ –∑–∞–ø—É—Å–∫–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞...',
                    fullText: '### –û –ø—Ä–æ–¥—É–∫—Ç–µ\n\n[–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞]\n\n### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏\n\n- –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å 1\n- –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å 2\n- –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å 3\n\n### –¶–µ–Ω–∞ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å\n\n[–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ü–µ–Ω–µ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏]\n\n### –û—Ç–∑—ã–≤—ã\n\n[–û—Ç–∑—ã–≤—ã –ø–µ—Ä–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π]'
                }
            },
            {
                id: 2,
                name: 'üìä –ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞',
                desc: '–®–∞–±–ª–æ–Ω –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å—Ç–∞—Ç–µ–π –æ —Ä—ã–Ω–∫–µ',
                content: {
                    excerpt: '–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä—ã–Ω–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç...',
                    fullText: '### –û–±–∑–æ—Ä —Ä—ã–Ω–∫–∞\n\n[–û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä—ã–Ω–∫–µ]\n\n### –ö–ª—é—á–µ–≤—ã–µ —Ç–µ–Ω–¥–µ–Ω—Ü–∏–∏\n\n1. –¢–µ–Ω–¥–µ–Ω—Ü–∏—è 1\n2. –¢–µ–Ω–¥–µ–Ω—Ü–∏—è 2\n3. –¢–µ–Ω–¥–µ–Ω—Ü–∏—è 3\n\n### –ü—Ä–æ–≥–Ω–æ–∑\n\n[–ü—Ä–æ–≥–Ω–æ–∑ —Ä–∞–∑–≤–∏—Ç–∏—è]\n\n### –í—ã–≤–æ–¥—ã\n\n[–û—Å–Ω–æ–≤–Ω—ã–µ –≤—ã–≤–æ–¥—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏]'
                }
            },
            {
                id: 3,
                name: 'üéØ –ì–∞–π–¥/–¢—É—Ç–æ—Ä–∏–∞–ª',
                desc: '–®–∞–±–ª–æ–Ω –¥–ª—è –ø–æ—à–∞–≥–æ–≤—ã—Ö –≥–∞–π–¥–æ–≤ –∏ —Ç—É—Ç–æ—Ä–∏–∞–ª–æ–≤',
                content: {
                    excerpt: '–ü–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö...',
                    fullText: '### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è\n\n- –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ 1\n- –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ 2\n\n### –®–∞–≥ 1: [–ù–∞–∑–≤–∞–Ω–∏–µ]\n\n[–û–ø–∏—Å–∞–Ω–∏–µ —à–∞–≥–∞ 1]\n\n### –®–∞–≥ 2: [–ù–∞–∑–≤–∞–Ω–∏–µ]\n\n[–û–ø–∏—Å–∞–Ω–∏–µ —à–∞–≥–∞ 2]\n\n### –®–∞–≥ 3: [–ù–∞–∑–≤–∞–Ω–∏–µ]\n\n[–û–ø–∏—Å–∞–Ω–∏–µ —à–∞–≥–∞ 3]\n\n### –ò—Ç–æ–≥–∏\n\n[–ò—Ç–æ–≥–∏ –∏ –ø–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏]'
                }
            },
            {
                id: 4,
                name: 'üì∞ –ù–æ–≤–æ—Å—Ç—å –¥–Ω—è',
                desc: '–®–∞–±–ª–æ–Ω –¥–ª—è —Å—Ä–æ—á–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π',
                content: {
                    excerpt: '–ü–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –∏–∑ –º–∏—Ä–∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π...',
                    fullText: '### –ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ\n\n[–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ–±—ã—Ç–∏–∏]\n\n### –î–µ—Ç–∞–ª–∏\n\n[–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ]\n\n### –†–µ–∞–∫—Ü–∏—è\n\n[–†–µ–∞–∫—Ü–∏—è –∫–æ–º–ø–∞–Ω–∏–π –∏ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤]\n\n### –ß—Ç–æ –¥–∞–ª—å—à–µ\n\n[–ü—Ä–æ–≥–Ω–æ–∑ —Ä–∞–∑–≤–∏—Ç–∏—è —Å–æ–±—ã—Ç–∏–π]'
                }
            },
            {
                id: 5,
                name: 'üí° –ò–¥–µ—è/–ö–æ–Ω—Ü–µ–ø—Ç',
                desc: '–®–∞–±–ª–æ–Ω –¥–ª—è —Å—Ç–∞—Ç–µ–π –æ–± –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∏–¥–µ—è—Ö',
                content: {
                    excerpt: '–ù–æ–≤–∞—è –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–∞—è –∏–¥–µ—è –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –∏–Ω–¥—É—Å—Ç—Ä–∏—é...',
                    fullText: '### –°—É—Ç—å –∏–¥–µ–∏\n\n[–û–ø–∏—Å–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–¥–µ–∏]\n\n### –ü—Ä–æ–±–ª–µ–º–∞\n\n[–ö–∞–∫—É—é –ø—Ä–æ–±–ª–µ–º—É —Ä–µ—à–∞–µ—Ç –∏–¥–µ—è]\n\n### –†–µ—à–µ–Ω–∏–µ\n\n[–ö–∞–∫ –∏–¥–µ—è —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É]\n\n### –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª\n\n[–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–∞–∑–≤–∏—Ç–∏—è]\n\n### –í—ã–∑–æ–≤—ã\n\n[–û—Å–Ω–æ–≤–Ω—ã–µ –≤—ã–∑–æ–≤—ã –∏ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è]'
                }
            },
            {
                id: 6,
                name: 'üî¨ –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ',
                desc: '–®–∞–±–ª–æ–Ω –¥–ª—è —Å—Ç–∞—Ç–µ–π –æ –Ω–∞—É—á–Ω—ã—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è—Ö',
                content: {
                    excerpt: '–ù–æ–≤–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø–æ–∫–∞–∑–∞–ª–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã...',
                    fullText: '### –ü—Ä–µ–¥—ã—Å—Ç–æ—Ä–∏—è\n\n[–ö–æ–Ω—Ç–µ–∫—Å—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è]\n\n### –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è\n\n[–ö–∞–∫ –ø—Ä–æ–≤–æ–¥–∏–ª–æ—Å—å –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ]\n\n### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã\n\n[–ö–ª—é—á–µ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã]\n\n### –í—ã–≤–æ–¥—ã\n\n[–ù–∞—É—á–Ω—ã–µ –≤—ã–≤–æ–¥—ã]\n\n### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ\n\n[–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤]'
                }
            }
        ];

        function loadTemplates() {
            const grid = document.getElementById('templatesGrid');
            grid.innerHTML = TEMPLATES.map(template => `
                <div class="template-card">
                    <div class="template-name">${template.name}</div>
                    <div class="template-desc">${template.desc}</div>
                    <button class="template-btn" onclick="useTemplate(${template.id})">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</button>
                </div>
            `).join('');
        }

        function useTemplate(templateId) {
            const template = TEMPLATES.find(t => t.id === templateId);
            if (!template) return;

            document.getElementById('newsExcerpt').value = template.content.excerpt;
            document.getElementById('newsFullText').value = template.content.fullText;
            switchTab('add-news');
            showMessage('‚úÖ –®–∞–±–ª–æ–Ω –∑–∞–≥—Ä—É–∂–µ–Ω! –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è.', 'success');
        }

        // ===== –°–û–•–†–ê–ù–ï–ù–ò–ï –¢–û–ö–ï–ù–ê =====
        function saveToken() {
            const token = document.getElementById('githubToken').value.trim();
            if (!token) {
                showMessage('‚ùå –í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω!', 'error');
                return;
            }

            githubToken = token;
            localStorage.setItem('techflow_github_token', token);
            showMessage('‚úÖ –¢–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω–µ–Ω!', 'success');
        }

        // ===== –û–ë–ù–û–í–õ–ï–ù–ò–ï –°–¢–ê–¢–ò–°–¢–ò–ö–ò =====
        function updateStatistics() {
            document.getElementById('totalNews').textContent = allNews.length;

            let totalComments = 0;
            for (let key in allComments) {
                totalComments += (allComments[key] || []).length;
            }
            document.getElementById('totalComments').textContent = totalComments;

            const size = (JSON.stringify(allNews).length + JSON.stringify(allComments).length) / 1024;
            document.getElementById('storageSize').textContent = size.toFixed(2) + ' KB';

            document.getElementById('lastUpdate').textContent = new Date().toLocaleString('ru-RU');
        }

        // ===== –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê =====
        async function runDiagnostics() {
            const list = document.getElementById('diagnosticsList');
            list.innerHTML = '<p style="text-align: center; color: #999;">–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞...</p>';

            const results = [];

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤
            const checks = [
                { name: 'data/news.json', url: 'data/news.json' },
                { name: 'data/comments.json', url: 'data/comments.json' },
                { name: 'assets/css/style.css', url: 'assets/css/style.css' },
                { name: 'assets/js/app.js', url: 'assets/js/app.js' },
                { name: 'index.html', url: 'index.html' }
            ];

            for (const check of checks) {
                try {
                    const response = await fetch(check.url);
                    results.push({
                        name: check.name,
                        status: response.ok ? 'ok' : 'failed',
                        message: response.ok ? '‚úÖ –ù–∞–π–¥–µ–Ω' : `‚ùå –û—à–∏–±–∫–∞ ${response.status}`
                    });
                } catch (error) {
                    results.push({
                        name: check.name,
                        status: 'failed',
                        message: '‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω'
                    });
                }
            }

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ GitHub
            const githubCheck = await checkGitHub();
            results.push({
                name: 'üîå GitHub API',
                status: githubCheck ? 'ok' : 'failed',
                message: githubCheck ? '‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–æ' : '‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è'
            });

            // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            list.innerHTML = results.map(result => `
                <div class="diagnostic-item ${result.status}">
                    <div class="diagnostic-name">${result.name}</div>
                    <div class="diagnostic-status ${result.status === 'ok' ? 'ok' : 'failed'}">
                        ${result.message}
                    </div>
                </div>
            `).join('');
        }

        async function checkGitHub() {
            try {
                const response = await fetch(
                    `https://api.github.com/repos/${GITHUB_USERNAME}/${GITHUB_REPO}`,
                    {
                        headers: { 'Authorization': `token ${githubToken}` }
                    }
                );
                return response.ok;
            } catch (error) {
                return false;
            }
        }

        // ===== –õ–û–ì–ò–†–û–í–ê–ù–ò–ï =====
        function logError(type, message) {
            errorLogs.unshift({
                type: type,
                message: message,
                time: new Date().toLocaleTimeString()
            });

            if (errorLogs.length > 100) {
                errorLogs.pop();
            }

            updateLogsDisplay();
        }

        function updateLogsDisplay() {
            const container = document.getElementById('logsContainer');
            const logs = errorLogs.map(log => `[${log.time}] ${log.type}: ${log.message}`).join('\n');
            container.textContent = logs || '–õ–æ–≥–æ–≤ –Ω–µ—Ç';
        }

        function downloadLogs() {
            const logs = errorLogs.map(log => `[${log.time}] ${log.type}: ${log.message}`).join('\n');
            const blob = new Blob([logs], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `techflow-errors-${new Date().toISOString().slice(0, 10)}.log`;
            a.click();
        }

        function clearLogs() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã?')) {
                errorLogs = [];
                updateLogsDisplay();
                showMessage('‚úÖ –õ–æ–≥–∏ –æ—á–∏—â–µ–Ω—ã!', 'success');
            }
        }

        // ===== –°–¢–ê–¢–£–° –°–û–û–ë–©–ï–ù–ò–Ø =====
        function showMessage(text, type) {
            const msg = document.getElementById('statusMessage');
            msg.textContent = text;
            msg.className = `status-message ${type} show`;

            setTimeout(() => {
                msg.classList.remove('show');
            }, 4000);
        }

        // ===== –í–´–•–û–î =====
        function logout() {
            localStorage.removeItem('techflow_admin_logged');
            window.location.href = '/';
        }

        // –ü–æ–∏—Å–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
        document.addEventListener('DOMContentLoaded', () => {
            const searchInput = document.getElementById('searchNews');
            if (searchInput) {
                searchInput.addEventListener('input', displayNewsList);
            }
        });
    </script>
</body>
</html>
