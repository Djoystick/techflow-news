<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="TechFlow - –ü–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö. –ò–ò, –≥–∞–¥–∂–µ—Ç—ã, –ü–û –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ.">
    <meta name="theme-color" content="#00a8cc">
    <title>TechFlow - –ù–æ–≤–æ—Å—Ç–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/telegram-web-app@7.2/dist/telegram-web-app.js"></script>
</head>
<body>
    <!-- –•–µ–¥–µ—Ä -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <path d="M12 6v6l4 2"></path>
                    </svg>
                    <span>TechFlow</span>
                </div>
                <nav class="nav">
                    <button class="nav-link" onclick="filterNews('all')">–í—Å–µ</button>
                    <button class="nav-link" onclick="filterNews('ai')">–ò–ò</button>
                    <button class="nav-link" onclick="filterNews('gadgets')">–ì–∞–¥–∂–µ—Ç—ã</button>
                    <button class="nav-link" onclick="filterNews('software')">–ü–û</button>
                    <button class="nav-link" onclick="filterNews('hardware')">–ñ–µ–ª–µ–∑–æ</button>
                </nav>
                <div class="header-actions">
                    <button class="btn-admin" onclick="goToAdmin()" title="–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å">‚öôÔ∏è</button>
                    <button class="btn-search" onclick="toggleSearch()">üîç</button>
                </div>
            </div>
        </div>
    </header>

    <!-- –ü–æ–∏—Å–∫ -->
    <div class="search-bar hidden" id="searchBar">
        <div class="container">
            <input type="text" id="searchInput" class="search-input" placeholder="–ü–æ–∏—Å–∫ –Ω–æ–≤–æ—Å—Ç–µ–π..." onkeyup="searchNews()">
            <button class="btn-close-search" onclick="toggleSearch()">‚úï</button>
        </div>
    </div>

    <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
    <main class="main-content">
        <div class="container">
            <!-- –ë–∞–Ω–Ω–µ—Ä —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω–æ–π –Ω–æ–≤–æ—Å—Ç–∏ -->
            <section class="featured-section" id="featuredSection"></section>

            <!-- –§–∏–ª—å—Ç—Ä—ã –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ -->
            <div class="controls">
                <div class="sort-controls">
                    <button class="sort-btn active" onclick="sortNews('date')">–ù–æ–≤—ã–µ</button>
                    <button class="sort-btn" onclick="sortNews('popular')">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ</button>
                    <button class="sort-btn" onclick="sortNews('comments')">–ö–æ–º–º–µ–Ω—Ç–∏—Ä—É–µ–º—ã–µ</button>
                </div>
            </div>

            <!-- –°–µ—Ç–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π -->
            <div class="news-grid" id="newsGrid">
                <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π...</div>
            </div>

            <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
            <div class="pagination" id="pagination"></div>
        </div>
    </main>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–æ–≤–æ—Å—Ç–∏ -->
    <div class="modal hidden" id="newsModal">
        <div class="modal-overlay" onclick="closeNews()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle"></h2>
                <button class="modal-close" onclick="closeNews()">‚úï</button>
            </div>
            <div class="modal-body">
                <img id="modalImage" class="modal-image" src="" alt="">
                <div class="modal-meta">
                    <span class="badge" id="modalCategory"></span>
                    <span class="date" id="modalDate"></span>
                    <span class="author" id="modalAuthor"></span>
                </div>
                <div class="modal-text" id="modalText"></div>
                <div class="modal-source" id="modalSource"></div>
                
                <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
                <div class="modal-actions">
                    <button class="btn btn-secondary" onclick="shareNews()">üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
                    <button class="btn btn-secondary" onclick="copyLink()">üîó –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É</button>
                </div>

                <!-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ -->
                <div class="comments-section">
                    <h3>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (<span id="commentsCount">0</span>)</h3>
                    <div class="comments-list" id="commentsList"></div>
                    
                    <!-- –§–æ—Ä–º–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è -->
                    <form class="comment-form" id="commentForm" onsubmit="addComment(event)">
                        <input 
                            type="text" 
                            id="commentAuthor" 
                            class="comment-input" 
                            placeholder="–í–∞—à–µ –∏–º—è..."
                            required
                        >
                        <textarea 
                            id="commentText" 
                            class="comment-input comment-textarea" 
                            placeholder="–í–∞—à –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π..."
                            required
                        ></textarea>
                        <button type="submit" class="btn btn-primary">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ -->
    <div class="notification hidden" id="notification"></div>

    <!-- –ü–æ–¥–≤–∞–ª -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <p>&copy; 2025 TechFlow. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
                <p>–ù–æ–≤–æ—Å—Ç–Ω–æ–π –ø–æ—Ä—Ç–∞–ª –æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö | <a href="#" onclick="goToAdmin()">–ê–¥–º–∏–Ω</a></p>
            </div>
        </div>
    </footer>

    <script src="assets/js/utils.js"></script>
    <script src="assets/js/storage.js"></script>
    <script src="assets/js/app.js"></script>
</body>
</html>